(function(){"use strict";!function(){const e={NODE_ENV:"production",MAPBOX_ACCESS_TOKEN:"pk.eyJ1Ijoic2FtYXJhLXdlYm1hc3RlciIsImEiOiJjbDc0bTY3NjMwNmh2M3VudG5sc2hxOGp2In0.DHQc2ZACY-ksnoPFXEP9qg",SQUARE_APPLICATION_ID:"sq0idp-LKxlyb5RS8WZFsxwd791ew",SQUARE_LOCATION_ID:"LR4Z6RQHCZTJQ",SQUARE_APPLICATION_ID_SANDBOX:"sandbox-sq0idb-hArsrA6cFTgj61TR7qDTKA",SQUARE_LOCATION_ID_SANDBOX:"LM7RWMQ4R8VEW"};try{if(process)return process.env=Object.assign({},process.env),void Object.assign(process.env,e)}catch(e){}globalThis.process={env:e}}();var installation_cost={socal:{studio:105e3,onebed:115e3,twobed:125e3},nocal:{studio:115e3,onebed:125500,twobed:136250},rest:{studio:105e3,onebed:115e3,twobed:125e3}},deposit={amount:{development:250,production:250}},prompts=[{question:"Does this property have a sewer connection or septic tank?",answers:["Sewer","Septic","Not sure"],sf_field:"Sanitary_Sewer_Type__c"},{question:"Does the main house on this property have a fire sprinkler system?",answers:["Yes","No"],sf_field:"Main_Home_Fire_Sprinkler__c",cost:[0,0],installation_cost:[0,0]}],options=[{key:"region",values:[{key:"socal",display:{title:"Southern California",alternativeTitle:"Southern<br>California",sf_field:"GEO_c",sf_value:"Southern California"}},{key:"nocal",display:{title:"San&nbsp;Francisco Bay&nbsp;Area",alternativeTitle:"San&nbsp;Francisco<br>Bay&nbsp;Area",sf_field:"GEO_c",sf_value:"San Francisco Bay Area"}},{key:"rest",display:{title:"Somewhere else",subtitle:"Coming soon",sf_field:"GEO_c",sf_value:"Other"}}],display:{label:"Region",title:"Where is your Backyard going?"}},{key:"layout",sf_field:"Unit_Layout__c",values:[{key:"studio",sf_value:"Backyard Studio",cost:174e3,display:{title:"Studio",subtitle:"420 gross sq. ft."}},{key:"onebed",sf_value:"Backyard One",cost:184e3,display:{title:"One bedroom",subtitle:"540 gross sq. ft."}},{key:"twobed",sf_value:"Backyard Two",cost:214e3,display:{title:"Two bedroom",subtitle:"690 gross sq. ft."}}],display:{label:"Layout",title:"Choose your layout"}},{key:"color",sf_field:"Base_Color_Selection__c",values:[{key:"base-bonewhite",sf_value:"Bone white",display:{title:"Bone white base",alternativeTitle:"Bone white <span>base</span>",image:"/assets/images/configure/colors/bone-white.webp"}},{key:"base-driftwood",sf_value:"Driftwood",display:{title:"Driftwood base",alternativeTitle:"Driftwood <span>base</span>",image:"/assets/images/configure/colors/driftwood.webp"}},{key:"base-parchment",sf_value:"Parchment",display:{title:"Parchment base",alternativeTitle:"Parchment <span>base</span>",image:"/assets/images/configure/colors/parchment.webp"}},{key:"base-evergreen",sf_value:"Evergreen",cost:5e3,display:{title:"Evergreen base",alternativeTitle:"Evergreen <span>base</span>",image:"/assets/images/configure/colors/evergreen.webp"}},{key:"base-dark-bronze",sf_value:"Dark bronze",cost:5e3,display:{title:"Dark bronze base",alternativeTitle:"Dark bronze <span>base</span>",image:"/assets/images/configure/colors/dark-bronze.webp"}}],display:{label:"Color",title:"Choose your base color"}},{key:"roof",sf_field:"Roof_Color__c",values:[{key:"roof-dark-bronze",sf_value:"Dark Bronze",display:{title:"Dark bronze roof"}},{key:"roof-metallic-silver",sf_value:"Silver",cost:2500,display:{title:"Metallic silver roof"}}],display:{label:"Roof",title:"Choose your roof color"}},{key:"entry",sf_field:"Studio_Entry__c",conditions:{layout:"(layout) => layout === 'studio'"},values:[{key:"entry-side",sf_value:"Side entry",display:{title:"Side entry"}},{key:"entry-front",sf_value:"Front entry",cost:3e3,display:{title:"Front entry"}}],display:{label:"Entry",title:"Choose your entry",camera:"right-angle"}},{key:"front",sf_field:"Front_Option__c",conditions:{entry:"(entry) => entry === undefined || entry === 'entry-side'"},values:[{key:"front-window",sf_value:"Casement window",display:{title:"Casement window",label:"Front casement window"}},{key:"front-doors",sf_value:"Double Doors",cost:11e3,display:{title:"Double doors <span class='long'>and deck</span>",label:"Front double doors"}}],display:{label:"Front",title:"Choose your front option",camera:"right-angle"}},{key:"left",sf_field:"Side_Option__c",values:[{key:"side-window",sf_value:"Casement Window",display:{title:"Casement window",label:"Side casement window"}},{key:"side-doors",sf_value:"Double Doors",cost:11e3,display:{title:"Double doors <span class='long'>and deck</span>",label:"Side double doors"}}],display:{label:"Left side",title:"Choose your left side option",camera:"left-angle"}},{key:"solar",sf_field:"Solar_Option__c",values:[{key:"solar-half",sf_value:"Half Solar",cost:"({layout}) => layout === 'studio' ? 8100 : (layout === 'onebed' ? 10200 : 13500)",display:{title:"Half solar",sf_value:"Half Solar",subtitle:"Runs at net zero⁑",description:"({layout}) => layout === 'studio' ? '7-panel, 2.5 kW DC photovoltaic system' : (layout === 'onebed' ? '9-panel, 3.4 kW DC photovoltaic system' : '12-panel, 4.5 kW DC photovoltaic system')"}},{key:"solar-full",sf_value:"Full Solar",cost:"({layout}) => layout === 'studio' ? 16200 : (layout === 'onebed' ? 20400 : 27000)",display:{title:"Full solar",description:"({layout}) => layout === 'studio' ? '14-panel, 5.3 kW DC photovoltaic system' : (layout === 'onebed' ? '18-panel, 6.8 kW DC photovoltaic system' : '24-panel, 9.1 kW DC photovoltaic system')",subtitle:"Offset even more energy usage"}},{key:"solar-no",sf_value:"No Solar",display:{title:"I don't need solar",subtitle:"Power Backyard with existing energy sources",description:"No solar"}}],display:{label:"Solar",title:"Choose your solar option",camera:"roof"}},{key:"interior-blinds",sf_field:"Blinds__c",values:[{key:"blinds-no",sf_value:"No Blinds",display:{title:"No blinds",cost:"baseline"}},{key:"blinds-roller",sf_value:"Rolling Blinds",cost:"({layout, entry, left, front}) => (layout === 'studio' ? 1250 : (layout === 'onebed' ? 1500 : 1750)) + (left === 'side-doors' ? 250 : 0) + (entry === 'entry-front' || front === 'front-doors' ? 250 : 0)",display:{title:"Roller blinds"}}],display:{label:"Blinds",title:"Choose your blinds"}}],config={installation_cost:installation_cost,deposit:deposit,prompts:prompts,options:options};function optionWithKey$1(e){return config.options.find((t=>t.key===e))}function configurableOptionsFor($configuration){return config.options.filter((option=>!option.conditions||Object.entries(option.conditions).every((([key,expression])=>eval(expression)($configuration[key])))))}function noop(){}function assign(e,t){for(const n in t)e[n]=t[n];return e}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let src_url_equal_anchor;function src_url_equal(e,t){return e===t||(src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=t,e===src_url_equal_anchor.href)}function is_empty(e){return 0===Object.keys(e).length}function subscribe(e,...t){if(null==e){for(const e of t)e(void 0);return noop}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function get_store_value(e){let t;return subscribe(e,(e=>t=e))(),t}function component_subscribe(e,t,n){e.$$.on_destroy.push(subscribe(t,n))}function create_slot(e,t,n,o){if(e){const a=get_slot_context(e,t,n,o);return e[0](a)}}function get_slot_context(e,t,n,o){return e[1]&&o?assign(n.ctx.slice(),e[1](o(t))):n.ctx}function get_slot_changes(e,t,n,o){if(e[2]&&o){const a=e[2](o(n));if(void 0===t.dirty)return a;if("object"==typeof a){const e=[],n=Math.max(t.dirty.length,a.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|a[o];return e}return t.dirty|a}return t.dirty}function update_slot_base(e,t,n,o,a,r){if(a){const s=get_slot_context(t,n,o,r);e.p(s,a)}}function get_all_dirty_from_scope(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function null_to_empty(e){return null==e?"":e}const globals="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode&&e.parentNode.removeChild(e)}function destroy_each(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function element(e){return document.createElement(e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function listen(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function attr(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.data!==t&&(e.data=t)}function set_input_value(e,t){e.value=null==t?"":t}function toggle_class(e,t,n){e.classList.toggle(t,!!n)}function custom_event(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function afterUpdate(e){get_current_component().$$.after_update.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function createEventDispatcher(){const e=get_current_component();return(t,n,{cancelable:o=!1}={})=>{const a=e.$$.callbacks[t];if(a){const r=custom_event(t,n,{cancelable:o});return a.slice().forEach((t=>{t.call(e,r)})),!r.defaultPrevented}return!0}}function setContext(e,t){return get_current_component().$$.context.set(e,t),t}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(0!==flushidx)return;const e=current_component;do{try{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}}catch(e){throw dirty_components.length=0,flushidx=0,e}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(null!==e.fragment){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}function flush_render_callbacks(e){const t=[],n=[];render_callbacks.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),render_callbacks=t}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,n,o){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push((()=>{outroing.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}function ensure_array_like(e){return void 0!==e?.length?e:Array.from(e)}function bind(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function create_component(e){e&&e.c()}function mount_component(e,t,n){const{fragment:o,after_update:a}=e.$$;o&&o.m(t,n),add_render_callback((()=>{const t=e.$$.on_mount.map(run).filter(is_function);e.$$.on_destroy?e.$$.on_destroy.push(...t):run_all(t),e.$$.on_mount=[]})),a.forEach(add_render_callback)}function destroy_component(e,t){const n=e.$$;null!==n.fragment&&(flush_render_callbacks(n.after_update),run_all(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(e,t){-1===e.$$.dirty[0]&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,n,o,a,r,s,i=[-1]){const l=current_component;set_current_component(e);const c=e.$$={fragment:null,ctx:[],props:r,update:noop,not_equal:a,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:blank_object(),dirty:i,skip_bound:!1,root:t.target||l.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return c.ctx&&a(c.ctx[t],c.ctx[t]=r)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](r),u&&make_dirty(e,t)),n})):[],c.update(),u=!0,run_all(c.before_update),c.fragment=!!o&&o(c.ctx),t.target){if(t.hydrate){const e=children(t.target);c.fragment&&c.fragment.l(e),e.forEach(detach)}else c.fragment&&c.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor),flush()}set_current_component(l)}class SvelteComponent{$$=void 0;$$set=void 0;$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){if(!is_function(t))return noop;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const PUBLIC_VERSION="4";function create_fragment$8(e){let t,n,o,a,r,s,i,l,c,u,d,p,f;return{c(){t=element("div"),n=element("h1"),n.textContent="We handle everything, from permits to installation.",o=space(),a=element("p"),a.textContent="Getting Backyard is easy. After you configure your unit, you won’t have\n\t\tto worry about filing permits, finding contractors, or any other part of\n\t\tthe building process.",r=space(),s=element("div"),s.innerHTML="<h2>Our base installation estimate includes:</h2> <ul><li>Permits and surveying</li> <li>Site prep</li> <li>Foundation installation</li> <li>Utility trenching and hookup</li> <li>Unit shipping</li> <li>Crane-in</li> <li>Stair and deck installation</li> <li>Touch up and final cleaning</li> <li>Project management</li></ul>",i=space(),l=element("div"),l.innerHTML="<br/>",c=space(),u=element("div"),d=element("a"),d.textContent="Learn more about pricing and construction",attr(s,"class","lists"),attr(l,"class","flexible"),attr(d,"href","/backyard/faq"),attr(u,"class","bottom ice-faq-link"),attr(t,"class","ice")},m(e,_){insert(e,t,_),append(t,n),append(t,o),append(t,a),append(t,r),append(t,s),append(t,i),append(t,l),append(t,c),append(t,u),append(u,d),p||(f=listen(d,"click",didClickLearnMoreLink),p=!0)},p:noop,i:noop,o:noop,d(e){e&&detach(t),p=!1,f()}}}function didClickLearnMoreLink(e){e.preventDefault(),e.stopPropagation(),Calculator.hide(),setTimeout(openRoute,250,"/backyard/faq")}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);class InstallationCostExplained extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$8,safe_not_equal,{})}}function create_fragment$7(e){let t;return{c(){t=element("div"),t.innerHTML='<h1 class="svelte-1by767p">Estimate monthly payments with our calculator.</h1> <p class="svelte-1by767p">There are many ways to finance Backyard, and we&#39;ll help you find the\n        best choice for you. Available rates, terms, and product offerings will\n        be based on your unique financial situation.</p>',attr(t,"class","header")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}class Header extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$7,safe_not_equal,{})}}const BASELINE_CONFIGURATION={...config.options.reduce(((e,t)=>({...e,[t.key]:t.values[0].key})),{}),layout:"onebed",solar:"no-solar"},subscriber_queue=[];function readable(e,t){return{subscribe:writable(e,t).subscribe}}function writable(e,t=noop){let n;const o=new Set;function a(t){if(safe_not_equal(e,t)&&(e=t,n)){const t=!subscriber_queue.length;for(const t of o)t[1](),subscriber_queue.push(t,e);if(t){for(let e=0;e<subscriber_queue.length;e+=2)subscriber_queue[e][0](subscriber_queue[e+1]);subscriber_queue.length=0}}}function r(t){a(t(e))}return{set:a,update:r,subscribe:function(s,i=noop){const l=[s,i];return o.add(l),1===o.size&&(n=t(a,r)||noop),s(e),()=>{o.delete(l),0===o.size&&n&&(n(),n=null)}}}}function derived(e,t,n){const o=!Array.isArray(e),a=o?[e]:e;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return readable(n,((e,n)=>{let s=!1;const i=[];let l=0,c=noop;const u=()=>{if(l)return;c();const a=t(o?i[0]:i,e,n);r?e(a):c=is_function(a)?a:noop},d=a.map(((e,t)=>subscribe(e,(e=>{i[t]=e,l&=~(1<<t),s&&u()}),(()=>{l|=1<<t}))));return s=!0,u(),function(){run_all(d),c(),s=!1}}))}const INITIAL_STATE$1={region:"socal"};function createStore$2(){const{set:e,update:t,subscribe:n}=writable(INITIAL_STATE$1);return{subscribe:n,set(t){e({...INITIAL_STATE$1,...t})},reset(){e(INITIAL_STATE$1)},select(e,n){t((t=>({...INITIAL_STATE$1,...t,[e]:n})))},random(){const t=config.options.reduce(((e,t)=>{const n=t.values[Math.trunc(t.values.length*Math.random())];return{...e,[t.key]:n.key}}),{});e(t)}}}const store$2=createStore$2();function createStore$1(){const{set:e,update:t,subscribe:n}=writable({});return{subscribe:n,set:e,reset(){e({})},respond(e,n){t((t=>({...t,[e]:n})))},random(){t((e=>config.prompts.reduce(((e,t)=>({...e,[t.question]:t.answers[Math.trunc(Math.random()*t.answers.length)]})),{})))}}}const store$1=createStore$1();function optionWithKey(e){return config.options.find((t=>t.key===e))}function variantWithKey(e,t){return t?t.values.find((t=>t.key===e)):null}function safeCostEval(e,t){const n={};for(p in this)n[p]=void 0;return new Function("c",`let v; with(this) { v = (${e})(c) }; return v;`).call(n,t)}function completeConfiguration(e){const t={...BASELINE_CONFIGURATION,...e};return{...configurableOptionsFor(t).map((e=>e.key)).reduce(((e,n)=>({...e,[n]:t[n]})),{}),region:t.region}}function costForVariantWithKey(e,t,n){const o=variantWithKey(e,optionWithKey(t));if(!o||!o.cost)return 0;if(Number.isFinite(o.cost))return o.cost;const a=safeCostEval(o.cost,completeConfiguration(n));return a||0}const costForConfigurationCache={};function costForConfiguration(e,t={}){const n=completeConfiguration(e),o=JSON.stringify(n);if(costForConfigurationCache[o])return costForConfigurationCache[o];let a=Object.entries(n).reduce(((e,[t,o])=>e+costForVariantWithKey(o,t,n)),0);const{region:r,layout:s}=n;let i=config.installation_cost[r][s];Object.entries(t).forEach((([e,t])=>{const n=config.prompts.find((t=>t.question===e));if(!n)return;const o=n.answers.findIndex((e=>e===t));void 0!==n.cost&&(a+=n.cost[o]||0),void 0!==n.installation_cost&&(i+=n.installation_cost[o]||0)}));const l=a+i;return costForConfigurationCache[o]={total:l,installation:i,base:a},{total:l,installation:i,base:a}}function formatCurrency(e){let t=e;!1===Number.isFinite(t)&&(t=0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}derived([store$2,store$1],(([e,t])=>costForConfiguration(e,t)));const PREFIX="v6:",DEBOUNCE_INTERVAL=0,MAXIMUM_PERSISTENCE_INTERVAL=0;function persisted(e,t,n=(e=>e)){let o,a=Date.now();function r(){if("undefined"==typeof localStorage)return;const n=JSON.stringify(get_store_value(t));n&&(localStorage.setItem(PREFIX+e,n),a=Date.now())}if(window.addEventListener("visibilitychange",r),window.addEventListener("pagehide",r),t.subscribe((()=>{clearTimeout(o),Date.now()-a>MAXIMUM_PERSISTENCE_INTERVAL?r():o=setTimeout(r,DEBOUNCE_INTERVAL)})),"undefined"!=typeof localStorage){const o=localStorage.getItem(PREFIX+e);if(o){const e=o;let a;try{a=n(JSON.parse(e))}catch(e){console.warn("failed to load store",e.message)}a&&t.set(a)}}return t}function uniqueIdentifier(){return Math.random().toString(32).substr(2,5)}function synchronized(e,t,n=(e=>e)){const o=uniqueIdentifier();let a=uniqueIdentifier();return window.addEventListener(`store:sync:${e}`,(function(e){e.detail.id!==o&&e.detail.version!==a&&(a=e.detail.version,t.update((t=>({...t,...n(e.detail.state)})),!0))})),{...t,update(n,r){t.update((t=>{const s=n(t);if(!0!==r){a=uniqueIdentifier();const t=new CustomEvent(`store:sync:${e}`,{detail:{state:s,id:o,version:a}});setTimeout((()=>{window.dispatchEvent(t)}),0)}return s}))}}}function mortgageForCost(e,t){const n=e*(1-t.down),o=12*t.term,a=100*t.rate/100/12,r=(a+1)**o;return{total:n,monthly:n*(a*r/(r-1))}}const INITIAL_STATE={down:.1,term:30,rate:.07,invalidValues:[]};function createStore(){const{set:e,update:t,subscribe:n}=writable(INITIAL_STATE);return{subscribe:n,set:e,update:t,reset(){e({...INITIAL_STATE})}}}const store=persisted("calculator:v5",synchronized("calculator",createStore()));function get_each_context(e,t,n){const o=e.slice();return o[4]=t[n],o}function get_each_context_1(e,t,n){const o=e.slice();return o[4]=t[n],o}function create_each_block_1(e){let t,n,o,a,r;function s(){return e[3](e[4])}return{c(){t=element("li"),n=element("button"),n.textContent=`${e[4].display.title}`,o=space(),attr(n,"class","svelte-ra30ru"),toggle_class(t,"selected",e[0]===e[4].key)},m(e,i){insert(e,t,i),append(t,n),append(t,o),a||(r=listen(n,"click",s),a=!0)},p(n,o){e=n,1&o&&toggle_class(t,"selected",e[0]===e[4].key)},d(e){e&&detach(t),a=!1,r()}}}function create_each_block(e){let t,n;return{c(){t=element("img"),attr(t,"class",null_to_empty(e[4].key)+" svelte-ra30ru"),src_url_equal(t.src,n=e[1][e[4].key])||attr(t,"src",n),attr(t,"alt",e[4].display.title)},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_fragment$6(e){let t,n,o,a,r,s,i,l,c,u,d,p=formatCurrency(costForConfiguration({layout:e[0]}).total)+"",f=ensure_array_like(optionWithKey$1("layout").values),_=[];for(let t=0;t<f.length;t+=1)_[t]=create_each_block_1(get_each_context_1(e,f,t));let m=ensure_array_like(optionWithKey$1("layout").values),y=[];for(let t=0;t<m.length;t+=1)y[t]=create_each_block(get_each_context(e,m,t));return{c(){t=element("div"),n=element("ul");for(let e=0;e<_.length;e+=1)_[e].c();o=space(),a=element("div");for(let e=0;e<y.length;e+=1)y[e].c();s=space(),i=element("div"),l=element("div"),c=text(p),u=space(),d=element("div"),d.textContent="Estimated cost",attr(n,"class","selector svelte-ra30ru"),attr(a,"class",r=null_to_empty(e[0])+" svelte-ra30ru"),attr(l,"class","value svelte-ra30ru"),attr(d,"class","note svelte-ra30ru"),attr(i,"class","cost svelte-ra30ru"),attr(t,"class","model-picker svelte-ra30ru")},m(e,r){insert(e,t,r),append(t,n);for(let e=0;e<_.length;e+=1)_[e]&&_[e].m(n,null);append(t,o),append(t,a);for(let e=0;e<y.length;e+=1)y[e]&&y[e].m(a,null);append(t,s),append(t,i),append(i,l),append(l,c),append(i,u),append(i,d)},p(e,[t]){if(5&t){let o;for(f=ensure_array_like(optionWithKey$1("layout").values),o=0;o<f.length;o+=1){const a=get_each_context_1(e,f,o);_[o]?_[o].p(a,t):(_[o]=create_each_block_1(a),_[o].c(),_[o].m(n,null))}for(;o<_.length;o+=1)_[o].d(1);_.length=f.length}if(2&t){let n;for(m=ensure_array_like(optionWithKey$1("layout").values),n=0;n<m.length;n+=1){const o=get_each_context(e,m,n);y[n]?y[n].p(o,t):(y[n]=create_each_block(o),y[n].c(),y[n].m(a,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=m.length}1&t&&r!==(r=null_to_empty(e[0])+" svelte-ra30ru")&&attr(a,"class",r),1&t&&p!==(p=formatCurrency(costForConfiguration({layout:e[0]}).total)+"")&&set_data(c,p)},i:noop,o:noop,d(e){e&&detach(t),destroy_each(_,e),destroy_each(y,e)}}}function instance$6(e,t,n){let{model:o}=t;function a(e){n(0,o=e)}return e.$$set=e=>{"model"in e&&n(0,o=e.model)},[o,{studio:"/assets/images/backyard/front-elevations/studio.frontdoors.solarfull.basewhite.roofdarkbronze.front/studio.frontdoors.solarfull.basewhite.roofdarkbronze.front-4000.webp",onebed:"/assets/images/backyard/front-elevations/onebedroom.frontdoors.solarfull.basebonewhite.roofdarkbronze.front/onebedroom.frontdoors.solarfull.basebonewhite.roofdarkbronze.front-4000.webp",twobed:"/assets/images/backyard/front-elevations/twobedroom.frontdoors.solarfull.basewhite.roofdarkbronze.front/twobedroom.frontdoors.solarfull.basewhite.roofdarkbronze.front-4000.webp"},a,e=>a(e.key)]}store.updateValues=function(e){store.update((t=>{const n={...t,...e},o=[],a=n.down>=0&&n.down<1,r=n.term>0&&n.term<=30,s=Number.isFinite(parseFloat(n.rate))&&parseFloat(n.rate)>0&&parseFloat(n.rate)<1;if(!1===a&&o.push("down"),!1===r&&o.push("term"),!1===s&&o.push("rate"),o.length>0)return{...n,invalidValues:o};return{...n,invalidValues:o}}))};class ModelPicker extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{model:0})}}function create_fragment$5(e){let t,n,o,a,r,s,i,l,c,u,d,p=formatCurrency(e[0])+"",f=formatCurrency(e[0]-e[1])+"",_=formatCurrency(e[1])+"";return{c(){t=element("div"),n=element("h4"),n.textContent="Estimated cost",o=space(),a=element("h4"),r=text(p),s=space(),i=element("p"),l=text(f),c=text(" current configuration + "),u=text(_),d=text(" base installation estimate."),attr(n,"class","svelte-bu2v8e"),attr(a,"class","svelte-bu2v8e"),attr(i,"class","svelte-bu2v8e"),attr(t,"class","estimated svelte-bu2v8e")},m(e,p){insert(e,t,p),append(t,n),append(t,o),append(t,a),append(a,r),append(t,s),append(t,i),append(i,l),append(i,c),append(i,u),append(i,d)},p(e,[t]){1&t&&p!==(p=formatCurrency(e[0])+"")&&set_data(r,p),3&t&&f!==(f=formatCurrency(e[0]-e[1])+"")&&set_data(l,f),2&t&&_!==(_=formatCurrency(e[1])+"")&&set_data(u,_)},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$5(e,t,n){let{cost:o}=t,{installation:a}=t;return e.$$set=e=>{"cost"in e&&n(0,o=e.cost),"installation"in e&&n(1,a=e.installation)},[o,a]}class EstimatedCost extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{cost:0,installation:1})}}function create_fragment$4(e){let t,n,o,a,r,s,i,l,c,u,d,p,f,_,m,y,v,b,g,h,$,k,w,C,x,E,S,I,T,F,N,A,D,L,q,O,M,B,R,z,P,W="1"===e[2]?"year":"years";return{c(){t=element("form"),n=element("div"),o=element("div"),a=element("label"),a.textContent="Down payment",r=space(),s=element("div"),i=element("input"),l=space(),c=element("div"),u=element("div"),d=element("span"),p=text(e[1]),f=text("%"),_=space(),m=element("input"),y=space(),v=element("div"),b=element("div"),g=element("label"),g.textContent="Term",h=space(),$=element("div"),k=element("div"),w=element("span"),C=text(e[2]),x=space(),E=text(W),S=space(),I=element("input"),T=space(),F=element("div"),N=element("label"),N.textContent="Interest rate",A=space(),D=element("div"),L=element("div"),q=element("span"),O=text(e[3]),M=text("%"),B=space(),R=element("input"),attr(a,"for","calculator-down"),attr(a,"class","svelte-1mvfoit"),attr(i,"id","calculator-down"),attr(i,"name","down-amount"),attr(i,"type","text"),attr(i,"inputmode","decimal"),attr(i,"class","svelte-1mvfoit"),attr(s,"class","input wide svelte-1mvfoit"),attr(d,"class","svelte-1mvfoit"),attr(u,"class","overlay svelte-1mvfoit"),attr(m,"name","down-percent"),attr(m,"type","text"),attr(m,"inputmode","decimal"),attr(m,"class","svelte-1mvfoit"),attr(c,"class","input narrow svelte-1mvfoit"),attr(o,"class","field merge svelte-1mvfoit"),toggle_class(o,"invalid",e[4]("down")),attr(n,"class","form-row svelte-1mvfoit"),attr(g,"for","calculator-term"),attr(g,"class","svelte-1mvfoit"),attr(w,"class","svelte-1mvfoit"),attr(k,"class","overlay svelte-1mvfoit"),attr(I,"id","calculator-term"),attr(I,"name","term"),attr(I,"type","text"),attr(I,"inputmode","decimal"),attr(I,"class","svelte-1mvfoit"),attr($,"class","input svelte-1mvfoit"),attr(b,"class","field wide svelte-1mvfoit"),toggle_class(b,"invalid",e[4]("term")),attr(N,"for","calculator-rate"),attr(N,"class","svelte-1mvfoit"),attr(q,"class","svelte-1mvfoit"),attr(L,"class","overlay svelte-1mvfoit"),attr(R,"id","calculator-rate"),attr(R,"name","rate"),attr(R,"type","text"),attr(R,"inputmode","decimal"),attr(R,"class","svelte-1mvfoit"),attr(D,"class","input svelte-1mvfoit"),attr(F,"class","field narrow svelte-1mvfoit"),toggle_class(F,"invalid",e[4]("rate")),attr(v,"class","form-row svelte-1mvfoit")},m(W,V){insert(W,t,V),append(t,n),append(n,o),append(o,a),append(o,r),append(o,s),append(s,i),set_input_value(i,e[0]),append(o,l),append(o,c),append(c,u),append(u,d),append(d,p),append(u,f),append(c,_),append(c,m),set_input_value(m,e[1]),append(t,y),append(t,v),append(v,b),append(b,g),append(b,h),append(b,$),append($,k),append(k,w),append(w,C),append(k,x),append(k,E),append($,S),append($,I),set_input_value(I,e[2]),append(v,T),append(v,F),append(F,N),append(F,A),append(F,D),append(D,L),append(L,q),append(q,O),append(L,M),append(D,B),append(D,R),set_input_value(R,e[3]),z||(P=[listen(i,"input",e[16]),listen(i,"input",e[6]),listen(i,"input",e[5]),listen(i,"blur",e[7]),listen(m,"input",e[17]),listen(m,"input",e[8]),listen(m,"input",e[5]),listen(I,"input",e[18]),listen(I,"input",e[9]),listen(I,"input",e[5]),listen(R,"input",e[19]),listen(R,"input",e[10]),listen(R,"input",e[5])],z=!0)},p(e,[t]){1&t&&i.value!==e[0]&&set_input_value(i,e[0]),2&t&&set_data(p,e[1]),2&t&&m.value!==e[1]&&set_input_value(m,e[1]),16&t&&toggle_class(o,"invalid",e[4]("down")),4&t&&set_data(C,e[2]),4&t&&W!==(W="1"===e[2]?"year":"years")&&set_data(E,W),4&t&&I.value!==e[2]&&set_input_value(I,e[2]),16&t&&toggle_class(b,"invalid",e[4]("term")),8&t&&set_data(O,e[3]),8&t&&R.value!==e[3]&&set_input_value(R,e[3]),16&t&&toggle_class(F,"invalid",e[4]("rate"))},i:noop,o:noop,d(e){e&&detach(t),z=!1,run_all(P)}}}function toNumber(e,t){return t(`${e}`.replace("$","").replace(",","").replace("%",""))||0}function instance$4(e,t,n){let o,a;component_subscribe(e,store,(e=>n(15,a=e)));let{model:r}=t,{cost:s}=t,i=s||costForConfiguration({layout:r}).total,l=formatCurrency(i*a.down),c=a.down,u=a.term,d=(100*a.rate).toFixed(1),p=r;function f(){n(1,c=Math.ceil(100*a.down).toFixed()),n(2,u=toNumber(a.term,parseInt).toFixed())}return onMount(f),e.$$set=e=>{"model"in e&&n(11,r=e.model),"cost"in e&&n(12,s=e.cost)},e.$$.update=()=>{63488&e.$$.dirty&&p!==r&&(void 0===s&&n(13,i=costForConfiguration({layout:r}).total),n(0,l=formatCurrency(i*a.down)),n(14,p=r)),32768&e.$$.dirty&&n(4,o=e=>a.invalidValues.includes(e))},[l,c,u,d,o,function(){f(),"undefined"!=typeof gtag&&gtag("event","calculator_value_changed")},function(e){store.updateValues({down:toNumber(l,parseFloat)/i})},function(){n(0,l=formatCurrency(i*a.down))},function(){store.updateValues({down:toNumber(c,parseFloat)/100}),n(0,l=formatCurrency(i*a.down))},function(){store.updateValues({term:toNumber(u,parseInt)})},function(){store.updateValues({rate:toNumber(d,parseFloat)/100})},r,s,i,p,a,function(){l=this.value,n(0,l),n(14,p),n(11,r),n(12,s),n(13,i),n(15,a)},function(){c=this.value,n(1,c)},function(){u=this.value,n(2,u)},function(){d=this.value,n(3,d)}]}class Form extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{model:11,cost:12})}}function create_fragment$3(e){let t,n,o,a,r,s,i,l,c,u,d,p,f,_,m,y,v,b,g,h=formatCurrency(e[1].monthly)+"",$=formatCurrency(e[1].total)+"";return{c(){t=element("div"),n=element("div"),o=element("div"),a=text(h),r=element("span"),r.textContent="/mo",s=space(),i=element("div"),l=text($),c=text(" total mortgage"),u=space(),d=element("div"),d.textContent="Tax and insurance not included",p=space(),f=element("a"),_=text("Get a quick estimate\n\t\t"),m=element("img"),attr(r,"class","period svelte-cz93x5"),attr(o,"class","monthly svelte-cz93x5"),attr(i,"class","total svelte-cz93x5"),attr(d,"class","extra svelte-cz93x5"),attr(n,"class","mortgage svelte-cz93x5"),src_url_equal(m.src,y="/assets/images/configure/right-arrow.svg")||attr(m,"src","/assets/images/configure/right-arrow.svg"),attr(m,"alt","→"),attr(m,"class","svelte-cz93x5"),attr(f,"href",v="/backyard/configure#bonewhite+"+e[0]),attr(f,"class","rounded blue svelte-cz93x5"),attr(t,"class","result svelte-cz93x5")},m(e,y){insert(e,t,y),append(t,n),append(n,o),append(o,a),append(o,r),append(n,s),append(n,i),append(i,l),append(i,c),append(n,u),append(n,d),append(t,p),append(t,f),append(f,_),append(f,m),b||(g=listen(f,"click",didClickReserveButton),b=!0)},p(e,[t]){2&t&&h!==(h=formatCurrency(e[1].monthly)+"")&&set_data(a,h),2&t&&$!==($=formatCurrency(e[1].total)+"")&&set_data(l,$),1&t&&v!==(v="/backyard/configure#bonewhite+"+e[0])&&attr(f,"href",v)},i:noop,o:noop,d(e){e&&detach(t),b=!1,g()}}}function didClickReserveButton(e){e.preventDefault(),e.stopPropagation(),Calculator.hide(),globalThis.getQuickEstimate(e),"undefined"!=typeof gtag&&gtag("event","calculator_reserve")}function instance$3(e,t,n){let o,a;component_subscribe(e,store,(e=>n(4,a=e)));let r,{model:s}=t,{cost:i}=t;return afterUpdate((()=>{n(3,r=o)})),e.$$set=e=>{"model"in e&&n(0,s=e.model),"cost"in e&&n(2,i=e.cost)},e.$$.update=()=>{29&e.$$.dirty&&n(1,o=0===a.invalidValues.length?mortgageForCost(i||costForConfiguration({layout:s}).total,a):r)},[s,o,i,r,a]}class Result extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{model:0,cost:2})}}function create_fragment$2(e){let t,n,o,a;return{c(){t=element("div"),n=element("button"),n.innerHTML='<svg fill="none" height="14" viewBox="0 0 14 14" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m13.3007.709971c-.39-.39-1.02-.39-1.41 0l-4.89 4.879999-4.89-4.889999c-.39-.39-1.02-.39-1.409997 0-.39.389999-.39 1.019999 0 1.409999l4.889997 4.89-4.889997 4.89003c-.39.39-.39 1.02 0 1.41.389997.39 1.019997.39 1.409997 0l4.89-4.89003 4.89 4.89003c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41l-4.89-4.89003 4.89-4.89c.38-.38.38-1.02 0-1.399999z" fill="#000" fill-opacity=".4"></path></svg>',attr(n,"class","svelte-3tz50m"),attr(t,"class","close-button svelte-3tz50m")},m(r,s){insert(r,t,s),append(t,n),o||(a=listen(n,"click",e[0]),o=!0)},p:noop,i:noop,o:noop,d(e){e&&detach(t),o=!1,a()}}}function instance$2(e){const t=createEventDispatcher();return[function(e){e.stopPropagation(),t("click")}]}class CloseButton extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{})}}const key=Symbol("modal"),{window:window_1}=globals;function create_fragment$1(e){let t,n,o,a,r,s,i,l,c,u;r=new CloseButton({}),r.$on("click",e[3]);const d=e[6].default,p=create_slot(d,e,e[5],null);return{c(){t=element("div"),n=element("div"),o=element("div"),a=element("div"),create_component(r.$$.fragment),s=space(),p&&p.c(),attr(a,"class","common-modal-close-button svelte-uvbiy1"),attr(o,"class","content svelte-uvbiy1"),attr(n,"class","common-modal-scroll svelte-uvbiy1"),attr(t,"class",i=null_to_empty(`common-modal common-modal-variant-${e[0]}`)+" svelte-uvbiy1")},m(i,d){insert(i,t,d),append(t,n),append(n,o),append(o,a),mount_component(r,a,null),append(o,s),p&&p.m(o,null),e[7](n),l=!0,c||(u=[listen(window_1,"keydown",e[4]),listen(o,"click",didClickContent),listen(n,"mousedown",e[2]),listen(n,"mousemove",didMouseMove)],c=!0)},p(e,[n]){p&&p.p&&(!l||32&n)&&update_slot_base(p,d,e,e[5],l?get_slot_changes(d,e[5],n,null):get_all_dirty_from_scope(e[5]),null),(!l||1&n&&i!==(i=null_to_empty(`common-modal common-modal-variant-${e[0]}`)+" svelte-uvbiy1"))&&attr(t,"class",i)},i(e){l||(transition_in(r.$$.fragment,e),transition_in(p,e),l=!0)},o(e){transition_out(r.$$.fragment,e),transition_out(p,e),l=!1},d(n){n&&detach(t),destroy_component(r),p&&p.d(n),e[7](null),c=!1,run_all(u)}}}function didClickContent(e){e.stopPropagation()}function didMouseMove(e){e.stopPropagation()}function instance$1(e,t,n){let{$$slots:o={},$$scope:a}=t,{variant:r="default"}=t;setContext(key,{setBackgroundClickable:function(e){l=e}});const s=createEventDispatcher();let i,l=!0;function c(){s("dismiss")}function u(){i.scrollTo(0,0)}return onMount((()=>{document.body.classList.add("common-modal-presented"),window.addEventListener("router:will-change-url",c),window.addEventListener("modal:did-change-content",u)})),onDestroy((()=>{document.body.classList.remove("common-modal-presented"),window.removeEventListener("router:will-change-url",c),window.removeEventListener("modal:did-change-content",u)})),e.$$set=e=>{"variant"in e&&n(0,r=e.variant),"$$scope"in e&&n(5,a=e.$$scope)},[r,i,function(e){e.stopPropagation(),!0===l&&e.target===i&&c()},function(){c()},function(e){i.matches(":focus-within")||"Escape"===e.key&&c()},a,o,function(e){binding_callbacks[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class Modal extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{variant:0})}}function create_if_block_2(e){let t,n,o;return n=new InstallationCostExplained({}),{c(){t=element("div"),create_component(n.$$.fragment),attr(t,"class","column six info svelte-1mszotp")},m(e,a){insert(e,t,a),mount_component(n,t,null),o=!0},i(e){o||(transition_in(n.$$.fragment,e),o=!0)},o(e){transition_out(n.$$.fragment,e),o=!1},d(e){e&&detach(t),destroy_component(n)}}}function create_if_block(e){let t,n,o,a,r,s,i,l,c,u;n=new Header({});const d=[create_if_block_1,create_else_block],p=[];function f(e,t){return"calculator-imageless"===e[1]?0:1}return a=f(e),r=p[a]=d[a](e),i=new Form({props:{model:e[0],cost:e[2]}}),c=new Result({props:{model:e[0],cost:e[2]}}),{c(){t=element("div"),create_component(n.$$.fragment),o=space(),r.c(),s=space(),create_component(i.$$.fragment),l=space(),create_component(c.$$.fragment),attr(t,"class","column six form svelte-1mszotp")},m(e,r){insert(e,t,r),mount_component(n,t,null),append(t,o),p[a].m(t,null),append(t,s),mount_component(i,t,null),append(t,l),mount_component(c,t,null),u=!0},p(e,n){let o=a;a=f(e),a===o?p[a].p(e,n):(group_outros(),transition_out(p[o],1,1,(()=>{p[o]=null})),check_outros(),r=p[a],r?r.p(e,n):(r=p[a]=d[a](e),r.c()),transition_in(r,1),r.m(t,s));const l={};1&n&&(l.model=e[0]),4&n&&(l.cost=e[2]),i.$set(l);const u={};1&n&&(u.model=e[0]),4&n&&(u.cost=e[2]),c.$set(u)},i(e){u||(transition_in(n.$$.fragment,e),transition_in(r),transition_in(i.$$.fragment,e),transition_in(c.$$.fragment,e),u=!0)},o(e){transition_out(n.$$.fragment,e),transition_out(r),transition_out(i.$$.fragment,e),transition_out(c.$$.fragment,e),u=!1},d(e){e&&detach(t),destroy_component(n),p[a].d(),destroy_component(i),destroy_component(c)}}}function create_else_block(e){let t,n,o;function a(t){e[4](t)}let r={};return void 0!==e[0]&&(r.model=e[0]),t=new ModelPicker({props:r}),binding_callbacks.push((()=>bind(t,"model",a))),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),o=!0},p(e,o){const a={};!n&&1&o&&(n=!0,a.model=e[0],add_flush_callback((()=>n=!1))),t.$set(a)},i(e){o||(transition_in(t.$$.fragment,e),o=!0)},o(e){transition_out(t.$$.fragment,e),o=!1},d(e){destroy_component(t,e)}}}function create_if_block_1(e){let t,n;return t=new EstimatedCost({props:{cost:e[2],installation:e[3]}}),{c(){create_component(t.$$.fragment)},m(e,o){mount_component(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.cost=e[2]),8&n&&(o.installation=e[3]),t.$set(o)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot(e){let t,n,o,a,r="both"===e[1]||e[1].startsWith("calculator"),s=("both"===e[1]||"ice"===e[1])&&create_if_block_2(),i=r&&create_if_block(e);return{c(){t=element("div"),n=element("div"),s&&s.c(),o=space(),i&&i.c(),attr(n,"class","row"),attr(t,"class","calculator grid svelte-1mszotp"),attr(t,"data-variant",e[1])},m(e,r){insert(e,t,r),append(t,n),s&&s.m(n,null),append(n,o),i&&i.m(n,null),a=!0},p(e,l){"both"===e[1]||"ice"===e[1]?s?2&l&&transition_in(s,1):(s=create_if_block_2(),s.c(),transition_in(s,1),s.m(n,o)):s&&(group_outros(),transition_out(s,1,1,(()=>{s=null})),check_outros()),2&l&&(r="both"===e[1]||e[1].startsWith("calculator")),r?i?(i.p(e,l),2&l&&transition_in(i,1)):(i=create_if_block(e),i.c(),transition_in(i,1),i.m(n,null)):i&&(group_outros(),transition_out(i,1,1,(()=>{i=null})),check_outros()),(!a||2&l)&&attr(t,"data-variant",e[1])},i(e){a||(transition_in(s),transition_in(i),a=!0)},o(e){transition_out(s),transition_out(i),a=!1},d(e){e&&detach(t),s&&s.d(),i&&i.d()}}}function create_fragment(e){let t,n;return t=new Modal({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),t.$on("dismiss",didDismissModal),{c(){create_component(t.$$.fragment)},m(e,o){mount_component(t,e,o),n=!0},p(e,[n]){const o={};47&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function didDismissModal(){Calculator.hide()}function instance(e,t,n){let{variant:o}=t,{cost:a}=t,{installation:r}=t,{model:s="studio"}=t;return"both"===o&&store.reset(),e.$$set=e=>{"variant"in e&&n(1,o=e.variant),"cost"in e&&n(2,a=e.cost),"installation"in e&&n(3,r=e.installation),"model"in e&&n(0,s=e.model)},[s,o,a,r,function(e){s=e,n(0,s)}]}class Calculator_1 extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{variant:1,cost:2,installation:3,model:0})}}function createCalculator(e,t,n,o=0){const a=document.querySelector("#calculator"),r=optionWithKey$1("layout").values[o].key,s=new Calculator_1({target:a,props:{variant:e,cost:t,installation:n,model:r}});return function(){a.classList.add("dismiss"),s.$destroy(),a.classList.remove("dismiss")}}let destroy;globalThis.Calculator={show(e,t,n,o){if(void 0===destroy&&(destroy=createCalculator(e,t,n,o),"undefined"!=typeof gtag))switch(e){case"both":gtag("event","all_in_cost_calculator_opened");break;case"ice":gtag("event","all_in_cost_opened");break;case"calculator-imageless":gtag("event","calculator_opened")}},hide(){void 0!==destroy&&(destroy(),destroy=void 0)}}})();
//# sourceMappingURL=bundle.js.map;
